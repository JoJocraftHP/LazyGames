<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LazyGames</title>

  <link rel="icon" href="lgsdocument.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />

  <!-- Open Graph -->
  <meta property="og:title" content="LazyGames - Innovative Roblox Game Development" />
  <meta property="og:description" content="LazyGames is a Roblox studio specializing in simulators and innovative game concepts. Explore our top games like Jetpack Training and Lift a Pet, and join our community!" />
  <meta property="og:image" content="https://www.lazygames.dev/LGSCard.png" />
  <meta property="og:url" content="https://www.lazygames.dev/" />
  <meta property="og:type" content="website" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@LazyGamesTeam" />
  <meta name="twitter:title" content="LazyGames - Innovative Roblox Game Development" />
  <meta name="twitter:description" content="LazyGames is a Roblox studio specializing in simulators and innovative game concepts. Explore our top games like Jetpack Training and Lift a Pet, and join our community!" />
  <meta name="twitter:image" content="https://www.lazygames.dev/LGSCard.png" />
</head>
<body>
  <!-- Header -->
  <header class="reveal">
    <a href="#hero" class="logo"><img src="LazyGamesBrandingMain.png" alt="LazyGames Logo" /><span>LazyGames</span></a>
    <button class="hamburger" aria-label="Toggle navigation">&#9776;</button>
    <nav>
      <ul>
        <li><a href="#hero">Home</a></li>
        <li><a href="#games">Our Games</a></li>
        <li><a href="#about">About Us</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Hero -->
  <section id="hero" class="hero reveal">
    <div class="hero-content">
      <h1>Welcome to LazyGames</h1>
      <p>We are an experienced Roblox studio specializing in simulators and innovative game concepts.</p>
    </div>
  </section>

  <!-- Games -->
  <section id="games" class="reveal">
    <h2>Our Top Hits</h2>
    <p class="section-subtitle">Here are some of our top games</p>
    <div class="games-grid">

      <!-- Crush for Brainrots -->
      <div class="game-card reveal" data-universe-id="8357236286">
        <img src="GameIcons/CrushforBrainrots.png" alt="Crush for Brainrots" loading="lazy" />
        <div class="game-card-content">
          <h3>Crush for Brainrots</h3>
          <p class="stats live"><span class="live-ccu">Current CCU: —</span></p>
          <p class="stats">Peak CCU: 7K</p>
          <p class="stats live"><span class="live-visits">Visits: —</span></p>
          <a href="https://www.roblox.com/games/117579798602171/UPD5-Crush-for-Brainrots" class="btn" target="_blank">View Game</a>
        </div>
      </div>

      <!-- Jetpack Training -->
      <div class="game-card reveal" data-universe-id="7017269091">
        <img src="GameIcons/JetpackTraining.png" alt="Jetpack Training" loading="lazy" />
        <div class="game-card-content">
          <h3>Jetpack Training</h3>
          <p class="stats live"><span class="live-ccu">Current CCU: —</span></p>
          <p class="stats">Peak CCU: 5.9K</p>
          <p class="stats live"><span class="live-visits">Visits: —</span></p>
          <a href="https://www.roblox.com/games/95557214969049" class="btn" target="_blank">View Game</a>
        </div>
      </div>

      <!-- Lift a Pet -->
      <div class="game-card reveal" data-universe-id="5792683386">
        <img src="GameIcons/LiftaPet.png" alt="Lift a Pet" loading="lazy" />
        <div class="game-card-content">
          <h3>Lift a Pet</h3>
          <p class="stats live"><span class="live-ccu">Current CCU: —</span></p>
          <p class="stats">Peak CCU: 1.9K</p>
          <p class="stats live"><span class="live-visits">Visits: —</span></p>
          <a href="https://www.roblox.com/games/16858182871" class="btn" target="_blank">View Game</a>
        </div>
      </div>

      <!-- Monster Training -->
      <div class="game-card reveal" data-universe-id="7676176341">
        <img src="GameIcons/MonsterTraining.png" alt="Monster Training" loading="lazy" />
        <div class="game-card-content">
          <h3>Monster Training</h3>
          <p class="stats live"><span class="live-ccu">Current CCU: —</span></p>
          <p class="stats">Peak CCU: 600</p>
          <p class="stats live"><span class="live-visits">Visits: —</span></p>
          <a href="https://www.roblox.com/games/78263156263540" class="btn" target="_blank">View Game</a>
        </div>
      </div>

      <!-- Click To Get Big -->
      <div class="game-card reveal" data-universe-id="5476431443">
        <img src="GameIcons/CTG.png" alt="Click To Get Big" loading="lazy" />
        <div class="game-card-content">
          <h3>Click To Get Big</h3>
          <p class="stats live"><span class="live-ccu">Current CCU: —</span></p>
          <p class="stats">Peak CCU: 500</p>
          <p class="stats live"><span class="live-visits">Visits: —</span></p>
          <a href="https://www.roblox.com/games/15837046231" class="btn" target="_blank">View Game</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Groups -->
  <section id="groups" class="reveal">
    <h2>Our Roblox Groups</h2>
    <p class="section-subtitle">Join our Roblox communities:</p>
    <div class="groups-grid">
      <div class="group-card">
        <p>Main Group</p>
        <a href="https://www.roblox.com/communities/33472368/LazyGameStudios#!/about" target="_blank">
          <img src="StudioIcons/LazyStudios.png" alt="Main Group" />
        </a>
        <p class="group-members" data-group-id="33472368">Members: —</p>
      </div>

      <div class="group-card">
        <p>Active Group</p>
        <a href="https://www.roblox.com/communities/35868694/ActiveGameStudios#!/about" target="_blank">
          <img src="StudioIcons/ActiveGames.png" alt="Active Group" />
        </a>
        <p class="group-members" data-group-id="35868694">Members: —</p>
      </div>

      <div class="group-card">
        <p>Tycoon Group</p>
        <a href="https://www.roblox.com/communities/33860522/LazyGames-Tycoons#!/about" target="_blank">
          <img src="StudioIcons/LazyTycoons.png" alt="Tycoon Group" />
        </a>
        <p class="group-members" data-group-id="33860522">Members: —</p>
      </div>

      <div class="group-card">
        <p>Obby Group</p>
        <a href="https://www.roblox.com/communities/33635810/LazyGamesObbys#!/about" target="_blank">
          <img src="StudioIcons/LazyObbies.png" alt="Obby Group" />
        </a>
        <p class="group-members" data-group-id="33635810">Members: —</p>
      </div>
    </div>
  </section>

  <!-- Script -->
  <script>
    const WORKER_URL = 'https://livestatsupdate.jojocrafthdyt.workers.dev';
    const q  = (sel, root = document) => root.querySelector(sel);
    const qa = (sel, root = document) => [...root.querySelectorAll(sel)];

    const fmtAbbrev = (n) => {
      if (typeof n !== 'number' || isNaN(n)) return '—';
      if (n >= 1_000_000) return (Math.round((n / 1_000_000) * 10) / 10).toFixed(1) + 'M';
      if (n >= 1_000)     return (Math.round((n / 1_000) * 10) / 10).toFixed(1) + 'K';
      return String(n);
    };

    const fetchJSON = async (url) => {
      for (let i = 0; i < 2; i++) {
        try {
          const bust = (url.includes('?') ? '&' : '?') + '_ts=' + Date.now();
          const res = await fetch(url + bust, { headers: { accept: 'application/json' } });
          if (!res.ok) throw new Error(`HTTP ${res.status}`);
          return await res.json();
        } catch (err) {
          if (i === 1) throw err;
          await new Promise(r => setTimeout(r, 500));
        }
      }
    };

    async function fillLiveGameStats() {
      const cards = qa('#games .game-card[data-universe-id]');
      if (!cards.length) return;

      const ids = [...new Set(cards.map(c => c.getAttribute('data-universe-id')).filter(Boolean))];
      if (!ids.length) return;

      try {
        const url = `${WORKER_URL}/?endpoint=games&ids=${encodeURIComponent(ids.join(','))}`;
        const { data = [] } = await fetchJSON(url);
        const byId = new Map(data.map(g => [String(g.id), g]));

        cards.forEach(card => {
          const uid = String(card.getAttribute('data-universe-id'));
          const g = byId.get(uid);
          if (!g) return;

          const ccuEl = q('.live-ccu', card);
          const visitsEl = q('.live-visits', card);

          if (ccuEl) ccuEl.textContent = `Current CCU: ${typeof g.playing === 'number' ? g.playing.toLocaleString() : '—'}`;
          if (visitsEl) visitsEl.textContent = `Visits: ${fmtAbbrev(typeof g.visits === 'number' ? g.visits : NaN)}`;
        });
      } catch (err) {
        console.warn('[LiveGames] fetch failed:', err);
      }
    }

    async function fillGroupMembers() {
      const els = qa('.group-members[data-group-id]');
      if (!els.length) return;

      await Promise.all(els.map(async el => {
        const id = el.getAttribute('data-group-id');
        if (!id) return;
        const url = `${WORKER_URL}/?endpoint=group&groupId=${encodeURIComponent(id)}`;
        try {
          const data = await fetchJSON(url);
          if (typeof data.memberCount === 'number') {
            el.textContent = `Members: ${data.memberCount.toLocaleString()}`;
          } else {
            el.textContent = 'Members: —';
          }
        } catch (err) {
          el.textContent = 'Members: —';
          console.warn(`[Group ${id}] fetch failed:`, err);
        }
      }));
    }

    document.addEventListener('DOMContentLoaded', () => {
      fillLiveGameStats();
      fillGroupMembers();
    });
  </script>
</body>
</html>
